# Architectures Microservices


### 1. DAO layer test
From the link http://localhost:1997/h2-console we generate the database interface. The following figure shows this interface.
<img src="captures/1_1.png">

### 2. Test microservice web using a REST client like Postman
The figure above represents the list of customers generated using REST, it is accessible via the link http://localhost:1997/bankAccounts.
<img src="captures/1_2.png">
With the Postman software allowing us to test the different REST functions. The following figures present the different functions such as obtaining the list of customers or a customer from its id, as well as adding or modifying a customer.

<img src="captures/2_1.png">
<img src="captures/2_2.png">
<img src="captures/2_3.png">
<img src="captures/2_4.png">

### 3. Generating and testing Swagger documentation of Web service Rest APIs
* Swagger interface obtained from link http://localhost:1997/swagger-ui/
<img src="captures/3_1.png">

* Documentation generated by Swagger from http://localhost:1997/v3/api-docs
<img src="captures/3_2.png">

* List of clients using Swagger 
<img src="captures/3_3.png">

* Importing Swagger documentation to Postman
<img src="captures/3_4.png">

Expose a Restful API using Spring Data Rest by leveraging projections
* List of clients using Spring Data Rest
<img src="captures/4_1.png">

* Obtaining a customer from his id 
<img src="captures/4_2.png">

* List of customers by their type of account by the link http://localhost:1997/bankAccounts/search/findByType?type=CURRENT_ACCOUNT
<img src="captures/4_3.png">

* List of clients with the "p1" projection of the link http://localhost:1997/bankAccounts?projection=p1
<img src="captures/4_4.png">

### 5. Creation of the DTOs and Mappers and of the Service layer (business) of the micro service
* DTOs
<img src="captures/dtos.png">

* Mappers
<img src="captures/mappers.png">

* Services
<img src="captures/services.png">

### 6. Creating a GraphQL web service
* Display of the list of accounts using the accountsList function of type query
<img src="captures/graph_00.png">

* Displaying an account by its id using the accountById query type function
<img src="captures/graph_01.png">

* Display of the error case where the id is invalid 
<img src="captures/graph_02.png">

* Adding an account using variables
<img src="captures/graph_03.png">

* Confirmation of addition
<img src="captures/graph_04.png">

* Modification of a count using variables
<img src="captures/graph_05.png">

* Deleting an account
<img src="captures/graph_06_1.png">
<img src="captures/graph_06_2.png">

* Display of the database with the relations between Customer and BankAccount
<img src="captures/graph_07.png">

* Display of the list of accounts with the names of their Customers
<img src="captures/graph_08.png">

* Display of the list of customers with the balance of their accounts
<img src="captures/graph_09.png">
